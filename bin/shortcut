#!/bin/sh
EXPECTED_ARGS=1
OPTIONAL_ARGS=2
E_BADARGS=65
LINK_FOLDER=~/links/

if [ $# -lt $EXPECTED_ARGS ]
then
  echo "Usage: `basename $0` target [override-default-name]"
  exit $E_BADARGS
fi

basename=$(basename $1)
dirname=${PWD}/$(dirname $1)
shortcut_file="#!/bin/sh\ncd $dirname\n./$basename"

if [ $# -ge $OPTIONAL_ARGS ]
then
	savename=$2
else
	savename=$basename
fi

echo $shortcut_file > $LINK_FOLDER$savename
chmod +x $LINK_FOLDER$savename
